# Express 框架

## 什么是 Express.js？

Express.js 是一个基于 Node.js 的快速、开放、极简的 Web 应用框架。它为构建 Web 应用和 API 提供了强大的功能集，同时保持了轻量级和灵活性。

## 核心概念

### 1. 中间件 (Middleware)

中间件是 Express 应用的核心组成部分。它是一个函数，可以：

- 执行任何代码
- 修改请求和响应对象
- 结束请求-响应循环
- 调用堆栈中的下一个中间件

```javascript
// 示例：记录请求日志的中间件
app.use((req, res, next) => {
  console.log(`${req.method} ${req.url}`);
  next(); // 调用下一个中间件
});
```

### 2. 路由 (Routing)

路由决定了应用程序如何响应客户端对特定端点的请求。每个路由可以有一个或多个处理函数。

```javascript
// 基本路由语法
app.METHOD(PATH, HANDLER);

// 示例
app.get("/users", (req, res) => {
  res.send("获取用户列表");
});
```

### 3. 请求/响应对象 (Request/Response)

- `req` (Request): 包含 HTTP 请求的信息
- `res` (Response): 用于发送 HTTP 响应

### 4. 错误处理

错误处理中间件与其他中间件类似，但接受四个参数：

```javascript
app.use((err, req, res, next) => {
  // 处理错误
});
```

## 安装和使用

1. 初始化项目：

```bash
npm init -y
```

2. 安装 Express 及相关依赖：

```bash
npm install express jsonwebtoken uuid
```

或者直接安装本目录的依赖：

```bash
npm install
```

3. 创建基本服务器：

```javascript
const express = require("express");
const app = express();
const PORT = 3000;

app.get("/", (req, res) => {
  res.send("Hello World!");
});

app.listen(PORT, () => {
  console.log(`Server running on port ${PORT}`);
});
```
